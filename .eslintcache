[{"D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\index.tsx":"1","D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\components\\code-editor.tsx":"2","D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\components\\preview.tsx":"3","D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\bundler\\index.ts":"4","D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\bundler\\plugins\\unpkg-path-plugin.ts":"5","D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\bundler\\plugins\\fetch-plugin.ts":"6","D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\components\\code-cell.tsx":"7","D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\components\\resizable.tsx":"8","D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\components\\text-editor.tsx":"9"},{"size":299,"mtime":1670397204970,"results":"10","hashOfConfig":"11"},{"size":2332,"mtime":1670344032296,"results":"12","hashOfConfig":"11"},{"size":1594,"mtime":1670394362261,"results":"13","hashOfConfig":"11"},{"size":1043,"mtime":1670394063965,"results":"14","hashOfConfig":"11"},{"size":856,"mtime":1670303474206,"results":"15","hashOfConfig":"11"},{"size":2004,"mtime":1670227173488,"results":"16","hashOfConfig":"11"},{"size":1053,"mtime":1670394163902,"results":"17","hashOfConfig":"11"},{"size":1788,"mtime":1670347274996,"results":"18","hashOfConfig":"11"},{"size":1287,"mtime":1670401054630,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"kgx7o6",{"filePath":"23","messages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"25","usedDeprecatedRules":"26"},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\index.tsx",[],["42","43"],"D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\components\\code-editor.tsx",["44"],"import './code-editor.css'\r\nimport './syntax.css'\r\nimport { useRef } from 'react'\r\nimport ManacoEditor, { EditorDidMount, monaco } from '@monaco-editor/react';\r\nimport prettier from 'prettier';\r\nimport parser from 'prettier/parser-babel'\r\nimport codeShift from 'jscodeshift';\r\nimport Highlighter from 'monaco-jsx-highlighter';\r\n\r\n\r\ninterface CodeEditorProps {\r\n  initialValue: string;\r\n  onChange(value: string): void\r\n}\r\n\r\nconst CodeEditor: React.FC<CodeEditorProps> = ({ onChange, initialValue }) => {\r\n  const editorRef = useRef<any>()\r\n\r\n  const onEditorDidMount: EditorDidMount = (getValue, monacoEditor) => {\r\n    editorRef.current = monacoEditor\r\n    monacoEditor.onDidChangeModelContent(() => {\r\n      onChange(getValue())\r\n    })\r\n\r\n    monacoEditor.getModel()?.updateOptions({ tabSize: 2 })\r\n\r\n    const highlighter = new Highlighter(\r\n      // @ts-ignore //ignore type check\r\n      window.monaco,\r\n      codeShift,\r\n      monacoEditor\r\n    )\r\n    highlighter.highLightOnDidChangeModelContent(\r\n      () => { },\r\n      () => { },\r\n      undefined,\r\n      () => { },\r\n    )\r\n\r\n  }\r\n\r\n  const onFormatClick = () => {\r\n    console.log(editorRef.current)\r\n    // get current value form editor\r\n    const unformatted = editorRef.current.getModel().getValue()\r\n    // format the value\r\n    const formatted = prettier.format(unformatted, {\r\n      parser: 'babel',\r\n      plugins: [parser],\r\n      useTabs: false,\r\n      semi: true,\r\n      singleQuote: true\r\n    }).replace(/\\n$/, '') //get rid of the extra new line after formatted\r\n\r\n    // set the formatted value back in the editor\r\n    editorRef.current.setValue(formatted)\r\n  }\r\n\r\n  return (\r\n    <div className='editor-wrapper'>\r\n      <button\r\n        className='button button-format is-primary is-small'\r\n        onClick={onFormatClick}>Format</button>\r\n\r\n      <ManacoEditor\r\n        editorDidMount={onEditorDidMount}\r\n        value={initialValue}\r\n        theme='dark'\r\n        language='javascript'\r\n        height=\"100%\"\r\n        options={{\r\n          wordWrap: 'on',\r\n          minimap: { enabled: false },\r\n          showUnused: false,\r\n          folding: false,\r\n          lineNumbersMinChars: 3,\r\n          fontSize: 16,\r\n          scrollBeyondLastLine: false,\r\n          automaticLayout: true\r\n        }}\r\n      />\r\n\r\n    </div>)\r\n}\r\n\r\nexport default CodeEditor;",["45","46"],"D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\components\\preview.tsx",[],"D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\bundler\\index.ts",[],"D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\bundler\\plugins\\unpkg-path-plugin.ts",[],"D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\bundler\\plugins\\fetch-plugin.ts",[],"D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\components\\code-cell.tsx",[],"D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\components\\resizable.tsx",["47"],"import \"./resizable.css\"\r\nimport { useEffect, useState } from \"react\";\r\nimport { ResizableBox, ResizableBoxProps } from 'react-resizable'\r\n\r\ninterface ResizableProps {\r\n  direction: \"horizontal\" | \"vertical\";\r\n  children?: React.ReactNode;\r\n}\r\n\r\nconst Resizable: React.FC<ResizableProps> = ({ direction, children }) => {\r\n  let resizableProps: ResizableBoxProps;\r\n  const [innerHeight, setInnerHeight] = useState(window.innerHeight)\r\n  const [innerWidth, setInnerWidth] = useState(window.innerWidth)\r\n  const [width, setWidth] = useState(window.innerWidth * 0.75)\r\n\r\n  useEffect(() => {\r\n    let timer: any\r\n    const listener = () => {\r\n      if (timer) {\r\n        clearTimeout(timer)\r\n      }\r\n      setTimeout(() => {\r\n        setInnerHeight(window.innerHeight)\r\n        setInnerWidth(window.innerWidth)\r\n        if (window.innerWidth * 0.75 < width) {\r\n          setWidth(window.innerWidth * 0.75)\r\n        }\r\n      }, 100)\r\n    }\r\n    window.addEventListener('resize', listener)\r\n\r\n    return () => {\r\n      window.removeEventListener('resize', listener)\r\n    }\r\n  }, [])\r\n\r\n  if (direction === 'horizontal') {\r\n    resizableProps = {\r\n      className: 'resize-horizontal',\r\n      minConstraints: [innerWidth * 0.2, Infinity],\r\n      maxConstraints: [innerWidth * 0.75, Infinity],\r\n      height: Infinity,\r\n      width,\r\n      resizeHandles: ['e'],\r\n      onResizeStop: (event, data) => {\r\n        setWidth(data.size.width)\r\n      }\r\n    }\r\n  } else {\r\n    resizableProps = {\r\n      minConstraints: [Infinity, 24],\r\n      maxConstraints: [Infinity, innerHeight * 0.9],\r\n      height: 300,\r\n      width: Infinity,\r\n      resizeHandles: ['s']\r\n    }\r\n  }\r\n\r\n  return (\r\n    <ResizableBox {...resizableProps}>\r\n      {children}\r\n    </ResizableBox>\r\n  )\r\n}\r\n\r\nexport default Resizable; ","D:\\Users\\ymw03\\Desktop\\react-ts-code-editor\\src\\components\\text-editor.tsx",[],{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":4,"column":40,"nodeType":"54","messageId":"55","endLine":4,"endColumn":46},{"ruleId":"48","replacedBy":"56"},{"ruleId":"50","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":35,"column":6,"nodeType":"60","endLine":35,"endColumn":8,"suggestions":"61"},"no-native-reassign",["62"],"no-negated-in-lhs",["63"],"@typescript-eslint/no-unused-vars","'monaco' is defined but never used.","Identifier","unusedVar",["62"],["63"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'width'. Either include it or remove the dependency array.","ArrayExpression",["64"],"no-global-assign","no-unsafe-negation",{"desc":"65","fix":"66"},"Update the dependencies array to be: [width]",{"range":"67","text":"68"},[1073,1075],"[width]"]